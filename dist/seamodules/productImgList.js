define(function(require,exports,module){var $=require("jquery");require("modules/jquery.fancybox")(window,document,$,void 0),require("modules/jquery.fancybox-buttons")($),$(function(){function pushBtnClick(e,sort){e.stopPropagation();var imgList=$("#productImgList div").clone(),navList=$(".imglistul li");navList.removeClass("active");var active=!1;if(sort){var last=imgList.last();$("#productImgList").html(""),$("#productImgList").append(last),$.each(imgList,function(index,item){var img=$(item).children("img"),lazySrc=img.attr("lazy_src"),src=img.attr("src");src&&""!=src||img.attr("src",lazySrc),index!=imgList.length-1&&(active||(active=!0,$(navList[$(item).attr("data-index")]).addClass("active")),$("#productImgList").append(item))})}else{var last=imgList.first();$("#productImgList").html(""),$.each(imgList,function(index,item){var img=$(item).children("img"),lazySrc=img.attr("lazy_src"),src=img.attr("src");src&&""!=src||img.attr("src",lazySrc),0!=index&&(active||(active=!0,$(navList[$(item).attr("data-index")]).addClass("active")),$("#productImgList").append(item))}),$("#productImgList").append(last)}}function imglistnavClick(e){var me=$(this);$(".imglistul li").removeClass("active"),me.addClass("active");var ix=parseInt(me.attr("data-index")),imgList1=$("#productImgList div").clone(),imgList=imgList1.sort(function(a,b){return $(a).attr("data-index")<$(b).attr("data-index")?-1:$(a).attr("data-index")>$(b).attr("data-index")?1:0});$("#productImgList").html(""),$.each(imgList,function(index,item){var img=$(item).children("img"),lazySrc=img.attr("lazy_src"),src=img.attr("src");src&&""!=src||img.attr("src",lazySrc);var itx=parseInt($(item).attr("data-index"));ix>itx||$("#productImgList").append(item)}),$.each(imgList,function(index,item){var img=$(item).children("img"),lazySrc=img.attr("lazy_src"),src=img.attr("src");src&&""!=src||img.attr("src",lazySrc);var itx=parseInt($(item).attr("data-index"));return itx==ix?!1:void $("#productImgList").append(item)})}$("#pushNext").on("click",pushBtnClick),$("#pushPre").on("click",function(e){pushBtnClick(e,"desc")});for(var total=$("#productImgList div").length,navHtml="",i=0;total>i;i++)navHtml+=0!=i?'<li data-index="'+i+'"></li>':'<li class="active" data-index="'+i+'"></li>';$(".imglistul").html(navHtml),$(".imglistul li").click(imglistnavClick);var fancyboxOpts={prevEffect:"none",nextEffect:"none",closeBtn:!1,scrolling:"visible",helpers:{title:{type:"inside"},buttons:{},overlay:{el:$("#gugumain")}}};$(".fancybox-button").fancybox(fancyboxOpts)})});
//# sourceMappingURL=productImgList.js.map