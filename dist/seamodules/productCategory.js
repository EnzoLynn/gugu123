define(function(require,exports,module){var $=require("jquery");require("modules/jquery.loadmask")($),require("modules/global");var common=require("modules/common");require("css/jquery.loadmask.css"),require("css/global.css"),require("css/bootstrap.css"),require("css/font-awesome.min.css"),require("css/indexCategory.css"),require("css/indexLogFloor.css"),require("css/topNavigator.css"),require("css/newPageControllPlus.css");require("modules/bootstrap.sea")($);$(function(){global.debug&&($(".include-topNavigator").html(require("template/topNavigator.tpl")),$(".include-indexLogFloor").html(require("template/indexLogFloor.tpl")),$(".include-logheadCategoryDiv").html(require("template/logheadCategoryDiv.tpl")),$(".include-breadcrumb").html(require("template/breadcrumb.tpl")),$(".include-categorylistfloor").html(require("template/productCategory.tpl")),$(".include-indexBottom").html(require("template/indexBottom.tpl"))),require("modules/indexTopNavigator"),require("modules/indexLogFloor");var pagec=require("modules/newPageControllPlus")({containerId:"categorylistfloor",totalCount:100,pageSize:10,firstBtn:document.getElementById("firstBtn"),preBtn:document.getElementById("preBtn"),nextBtn:document.getElementById("nextBtn"),lastBtn:document.getElementById("lastBtn"),pageText:document.getElementById("pageText"),msgText:document.getElementById("msgText"),validateFun:!1,loadPageJson:function(page1,newurl,isSearch,okFun,errFun,validateFun){var me=this,loader=$("#"+me.containerId);if(!validateFun||validateFun()){var url=common.createUrl("/data/testData.json");newurl&&""!=newurl&&(url=newurl);var postdata={currpage:1};$.ajax({type:"get",url:url,data:postdata,beforeSend:function(XMLHttpRequest){loader.mask("正在加载...")},success:function(data,textStatus){var html="";return isSearch&&me.InitPageController(!0),okFun&&okFun(),me.totalCount=parseInt(data.total),me.InitPageController(),0==data.data.length?void $("#"+me.containerId+">.content").html("没有数据."):($.each(data.data,function(index,item){html+=item.email+"<br>"}),void $("#"+me.containerId+">.content").html(html))},complete:function(XMLHttpRequest,textStatus){loader.unmask()},error:function(){errFun&&errFun(),alert("提交失败"),loader.unmask()}})}}},$);pagec.InitPageController(),$(".filterval a").on({click:function(){var me=this,fitlerKey=$(me).parent().prev(".filterkey"),keyword=fitlerKey.attr("data-key"),value=$(me).attr("data-val"),filterobj=common.spellFilter(keyword,value),fitlerstr="";for(key in filterobj)fitlerstr+='<input type="button" name="" value="'+fitlerstr[key]+'">';$(".filterStr").html(fitlerstr)}})})});